import threading 
import socket
import sys
from respon import *

class Handler(threading.Thread) :
    def __init__ (self,client,conn) :
        threading.Thread.__init__(self)
        self.client = client
        self.conn = conn

    def run(self) :
        self.incom()
    
    def cek(self, url) :
        if (url= '/') :
            return self.Respon.direktori()
    
    def incom (self) :
        while True :
            req=''
            while True :
                data=self.conn.recv(64).decode()
                req=req + data
                print(req)
                if (req[-4:] == "\r\n\r\n"):
                    break
        msg=req.split('\r\n')
        msg_request=msg[0]
        a, url, c = msg_request(' ')
        print (url)
        response=self.cek(url)
        self.conn.send(response)
